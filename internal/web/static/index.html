<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="theme-color" content="#0d1117">
<title>teamoon</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  corePlugins: { preflight: false },
  theme: {
    extend: {
      colors: {
        tm: {
          bg:'#0d1117',surface:'#161b22',card:'#1c2128','card-h':'#21262d',
          border:'#30363d','border-l':'#484f58',purple:'#7c3aed','purple-d':'#5b21b6',
          blue:'#58a6ff',green:'#3fb950',red:'#f85149',orange:'#d29922',
          yellow:'#e3b341',cyan:'#79c0ff',teal:'#39d353',
        }
      },
      fontFamily: { sans: ['Inter','-apple-system','BlinkMacSystemFont','sans-serif'] },
    }
  }
}
</script>
<link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div class="app">
  <aside class="sidebar">
    <div class="sb-header">
      <div class="sb-logo"><svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="18" height="18"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg><span>teamoon</span></div>
      <div class="sb-version" id="sb-version"></div>
      <div class="sb-model" id="sb-model"></div>
    </div>
    <nav class="sb-nav" id="sb-nav">
      <a href="#dashboard" data-view="dashboard"><span class="icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="18" height="18"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg></span><span class="label">Dashboard</span></a>
      <a href="#queue" data-view="queue"><span class="icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="18" height="18"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg></span><span class="label">Queue</span></a>
      <a href="#canvas" data-view="canvas"><span class="icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="18" height="18"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg></span><span class="label">Canvas</span></a>
      <a href="#projects" data-view="projects"><span class="icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="18" height="18"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg></span><span class="label">Projects</span></a>
      <a href="#logs" data-view="logs"><span class="icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="18" height="18"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg></span><span class="label">Logs</span></a>
      <a href="#chat" data-view="chat"><span class="icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="18" height="18"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg></span><span class="label">Chat</span></a>
    </nav>
    <div class="sb-stats" id="sb-stats"></div>
  </aside>
  <main class="main" id="content"></main>
</div>

<div class="modal-overlay" id="modal-add">
  <div class="modal">
    <div class="modal-title">Add Task</div>
    <div class="modal-field">
      <label>Project</label>
      <select id="add-project"></select>
    </div>
    <div class="modal-field">
      <label>Templates</label>
      <div class="template-row">
        <select id="tmpl-select"><option value="">— select template —</option></select>
        <button class="btn btn-sm btn-danger" id="tmpl-del-btn" onclick="deleteSelectedTemplate()" style="display:none" title="Delete template">&times;</button>
      </div>
      <div class="template-save-row">
        <input type="text" id="tmpl-name" placeholder="Template name" class="template-name-input">
        <button class="btn btn-sm" onclick="saveTemplate()">Save snippet</button>
      </div>
    </div>
    <div class="modal-field">
      <label>Description</label>
      <textarea id="add-desc" rows="8" placeholder="What needs to be done?"></textarea>
    </div>
    <div class="modal-field">
      <label>Priority</label>
      <select id="add-priority">
        <option value="high">High</option>
        <option value="med" selected>Medium</option>
        <option value="low">Low</option>
      </select>
    </div>
    <div class="modal-actions">
      <button class="btn" onclick="closeModal('modal-add')">Cancel</button>
      <button class="btn btn-primary" onclick="submitAddTask()">Add Task</button>
    </div>
  </div>
</div>

<div class="modal-overlay" id="modal-prs">
  <div class="modal" style="min-width:500px;max-width:650px">
    <div class="modal-title" id="prs-title">Pull Requests</div>
    <div id="prs-content"></div>
    <div class="modal-actions">
      <button class="btn" onclick="closeModal('modal-prs')">Close</button>
      <button class="btn btn-success" id="btn-merge-dep" style="display:none" onclick="mergeDependabot()">Merge Dependabot</button>
    </div>
  </div>
</div>

<div class="modal-overlay" id="modal-init">
  <div class="modal" style="min-width:420px">
    <div class="modal-title">New Project</div>
    <div class="modal-field">
      <label>Repository Name</label>
      <input type="text" id="init-name" placeholder="my-awesome-project">
    </div>
    <div class="modal-field">
      <label>Type</label>
      <select id="init-type">
        <option value="python">Python</option>
        <option value="node">Node.js</option>
        <option value="go">Go</option>
      </select>
    </div>
    <div class="modal-field">
      <label>Initial Version</label>
      <input type="text" id="init-version" value="1.0.0">
    </div>
    <div class="modal-field">
      <label>Structure</label>
      <select id="init-structure">
        <option value="separate">Separate repos (backend + frontend)</option>
        <option value="single">Single repo</option>
      </select>
    </div>
    <div class="modal-field">
      <label>Visibility</label>
      <select id="init-visibility">
        <option value="private">Private</option>
        <option value="public">Public</option>
      </select>
    </div>
    <div id="init-progress" style="display:none"></div>
    <div class="modal-actions" id="init-actions">
      <button class="btn" onclick="closeModal('modal-init')">Cancel</button>
      <button class="btn btn-primary" id="init-submit" onclick="submitProjectInit()">Create Project</button>
    </div>
  </div>
</div>

<script src="/static/app.js"></script>
</body>
</html>
